{"version":3,"file":"component---src-pages-product-js-5f0f79edfc43fc1cc892.js","mappings":"kLAgFA,UAzEoBA,IAAe,IAADC,EAAA,IAAb,KAAEC,GAAMF,EAC3B,MAAM,UAAEG,IAAcC,EAAAA,EAAAA,MAChB,cAAEC,EAAa,mBAAEC,EAAkB,cAAEC,IAAkBC,EAAAA,EAAAA,KACvDC,EAAUP,EAAKQ,cACf,EAACC,EAAS,EAACC,IAAeC,EAAAA,EAAAA,UAAS,GAcnCC,EAAeP,EAAcQ,MAAKC,GAAQA,EAAKC,KAAOR,EAAQQ,KAEpE,OACEC,EAAAA,cAACC,EAAAA,EAAM,KACLD,EAAAA,cAAA,OAAKE,UAAU,kBACbF,EAAAA,cAAA,MAAIE,UAAU,kBAAkBX,EAAQY,MAC1B,QAAbpB,EAAAQ,EAAQa,aAAK,IAAArB,GAAbA,EAAesB,gBACdL,EAAAA,cAACM,EAAAA,EAAW,CACVJ,UAAU,OACVE,OAAOG,EAAAA,EAAAA,GAAShB,EAAQa,MAAMC,iBAC9BG,IAAKjB,EAAQY,OAGfH,EAAAA,cAAA,SAAG,sBAELA,EAAAA,cAAA,KAAGE,UAAU,QAAO,IAAEX,EAAQkB,OAC9BT,EAAAA,cAAA,SAAIT,EAAQmB,aACZV,EAAAA,cAAA,OAAKE,UAAU,QACbF,EAAAA,cAAA,SAAOW,QAAQ,WAAWT,UAAU,cAAa,YACjDF,EAAAA,cAAA,SACEY,KAAK,SACLV,UAAU,eACVH,GAAG,WACHc,MAAOpB,EACPqB,SAAWC,GAAMrB,EAAYsB,OAAOD,EAAEE,OAAOJ,QAC7CK,IAAI,OAGRlB,EAAAA,cAAA,UAAQE,UAAU,kBAAkBiB,QAxClBC,KACtBnC,EAAU,IAAKM,EAASE,YAAW,GAuC+B,eAC7DG,EACCI,EAAAA,cAAA,UAAQE,UAAU,yBAAyBiB,QAlClBE,KAC/BjC,EAAmBG,EAAQ,GAiCyD,wBAE9ES,EAAAA,cAAA,UAAQE,UAAU,yBAAyBiB,QAxCvBG,KAC1BnC,EAAcI,EAAQ,GAuCyD,oBAGtE,C","sources":["webpack://my-gatsby-site/./src/pages/product.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image';\r\nimport Layout from '../components/layout';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useWishlist } from '../context/WishlistContext';\r\n\r\nconst ProductPage = ({ data }) => {\r\n  const { addToCart } = useCart();\r\n  const { addToWishlist, removeFromWishlist, wishlistItems } = useWishlist();\r\n  const product = data.productsJson;\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const handleAddToCart = () => {\r\n    addToCart({ ...product, quantity });\r\n  };\r\n\r\n  const handleAddToWishlist = () => {\r\n    addToWishlist(product);\r\n  };\r\n\r\n  const handleRemoveFromWishlist = () => {\r\n    removeFromWishlist(product);\r\n  };\r\n\r\n  const isInWishlist = wishlistItems.some(item => item.id === product.id);\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container py-5\">\r\n        <h1 className=\"display-4 mb-4\">{product.name}</h1>\r\n        {product.image?.childImageSharp ? (\r\n          <GatsbyImage\r\n            className=\"mb-4\"\r\n            image={getImage(product.image.childImageSharp)}\r\n            alt={product.name}\r\n          />\r\n        ) : (\r\n          <p>No image available</p>\r\n        )}\r\n        <p className=\"lead\">${product.price}</p>\r\n        <p>{product.description}</p>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"quantity\" className=\"form-label\">Quantity</label>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            id=\"quantity\"\r\n            value={quantity}\r\n            onChange={(e) => setQuantity(Number(e.target.value))}\r\n            min=\"1\"\r\n          />\r\n        </div>\r\n        <button className=\"btn btn-primary\" onClick={handleAddToCart}>Add to Cart</button>\r\n        {isInWishlist ? (\r\n          <button className=\"btn btn-secondary ml-2\" onClick={handleRemoveFromWishlist}>Remove from Wishlist</button>\r\n        ) : (\r\n          <button className=\"btn btn-secondary ml-2\" onClick={handleAddToWishlist}>Add to Wishlist</button>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport const query = graphql`\r\n  query($id: String!) {\r\n    productsJson(id: { eq: $id }) {\r\n      id\r\n      name\r\n      price\r\n      description\r\n      image {\r\n        childImageSharp {\r\n          gatsbyImageData(width: 400)\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default ProductPage;\r\n"],"names":["_ref","_product$image","data","addToCart","useCart","addToWishlist","removeFromWishlist","wishlistItems","useWishlist","product","productsJson","quantity","setQuantity","useState","isInWishlist","some","item","id","React","Layout","className","name","image","childImageSharp","GatsbyImage","getImage","alt","price","description","htmlFor","type","value","onChange","e","Number","target","min","onClick","handleAddToCart","handleRemoveFromWishlist","handleAddToWishlist"],"sourceRoot":""}